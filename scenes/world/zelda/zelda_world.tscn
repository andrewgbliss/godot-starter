[gd_scene load_steps=26 format=3 uid="uid://wqem33gnspk3"]

[ext_resource type="Script" uid="uid://bm85budamtxnd" path="res://blisscode/core/world/world.gd" id="1_us6fk"]
[ext_resource type="Script" uid="uid://be1sydgbkih6o" path="res://blisscode/room/rooms.gd" id="2_saxaj"]
[ext_resource type="Script" uid="uid://dny8opyadgvey" path="res://blisscode/room/room.gd" id="3_scnur"]
[ext_resource type="PackedScene" uid="uid://d08km2i6m5otq" path="res://scenes/world/zelda/zelda_1_world_proc_gen.tscn" id="4_us6fk"]
[ext_resource type="Script" uid="uid://diqrbhfl35phw" path="res://blisscode/room/room_door.gd" id="5_5po2o"]
[ext_resource type="Script" uid="uid://y2k6svdyl4md" path="res://blisscode/core/spawning/spawn_position.gd" id="6_l1ab5"]
[ext_resource type="Script" uid="uid://dawrnhrddu0kw" path="res://blisscode/core/world/world_door.gd" id="7_joett"]
[ext_resource type="Script" uid="uid://baibi6vypqgi8" path="res://blisscode/core/spawning/player_spawner.gd" id="8_k3wx8"]
[ext_resource type="Script" uid="uid://ddlo01mfc118i" path="res://blisscode/core/spawning/spawner.gd" id="9_w01r4"]
[ext_resource type="PackedScene" uid="uid://13555fakiyci" path="res://scenes/environment/town_sign.tscn" id="10_qwtem"]
[ext_resource type="PackedScene" uid="uid://c3sn1lvnaw1tp" path="res://scenes/items/pickups/pickup.tscn" id="11_ua2dx"]
[ext_resource type="Script" uid="uid://dx15io88tra7t" path="res://blisscode/item/ranged_weapon.gd" id="12_o01cf"]
[ext_resource type="Texture2D" uid="uid://djiv6d5fhe0c" path="res://assets/img/items/guns.png" id="13_epgae"]
[ext_resource type="Script" uid="uid://cqwk88xhb2juy" path="res://blisscode/generation/room_filler.gd" id="14_dlh1s"]
[ext_resource type="PackedScene" uid="uid://d1uon38qbt45i" path="res://scenes/entities/rigid/rigid_block_entity.tscn" id="15_0mi48"]
[ext_resource type="PackedScene" uid="uid://dhtvv0vpxt0sy" path="res://scenes/entities/static/static_block_entity.tscn" id="16_w28do"]

[sub_resource type="Environment" id="Environment_6m72w"]
background_mode = 3
glow_bloom = 0.15
glow_blend_mode = 1

[sub_resource type="CircleShape2D" id="CircleShape2D_glygm"]
radius = 13.3417

[sub_resource type="Gradient" id="Gradient_v1x83"]
offsets = PackedFloat32Array(0, 0.993976)
colors = PackedColorArray(0, 0, 0, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_au4vk"]
gradient = SubResource("Gradient_v1x83")

[sub_resource type="CircleShape2D" id="CircleShape2D_au4vk"]
radius = 13.3417

[sub_resource type="Gradient" id="Gradient_qstfd"]
offsets = PackedFloat32Array(0, 0.993976)
colors = PackedColorArray(0.940552, 0.352678, 0.325948, 1, 0.74658, 3.95274e-05, 2.22364e-05, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_1o4f3"]
gradient = SubResource("Gradient_qstfd")

[sub_resource type="Curve2D" id="Curve2D_glygm"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 148, 89, 0, 0, 0, 0, 153, -94, 0, 0, 0, 0, -24, -98, 0, 0, 0, 0, -17, 87, 0, 0, 0, 0, 148, 89)
}
point_count = 5

[sub_resource type="Resource" id="Resource_am3bl"]
script = ExtResource("12_o01cf")
projectile = "projectile"
max_ammo = 10
unlimited_ammo = true
spread = 10
spread_angle = 0.05
screen_shake_amount = 2.0
damage_min = 10
damage_max = 10
attack_rate = 0.5
slot = 9
equip_on_pickup = true
package = "guns"
name = "black shotgun"
texture = ExtResource("13_epgae")
frame = 1
hframes = 3
metadata/_custom_type_script = "uid://dx15io88tra7t"

[node name="World" type="Node2D"]
script = ExtResource("1_us6fk")
world_name = "TopDownGrass"

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_6m72w")

[node name="Rooms" type="Node2D" parent="."]
z_index = -50
script = ExtResource("2_saxaj")

[node name="Room1" type="Node2D" parent="Rooms"]
script = ExtResource("3_scnur")
room_id = "room_1"

[node name="zelda1worldprocgen" parent="Rooms/Room1" instance=ExtResource("4_us6fk")]

[node name="RoomDoor" type="Area2D" parent="Rooms/Room1" node_paths=PackedStringArray("to_room_door", "spawn_position")]
position = Vector2(-808, -244)
script = ExtResource("5_5po2o")
to_room_door = NodePath("../RoomDoor2")
spawn_position = NodePath("SpawnPosition")
metadata/_custom_type_script = "uid://diqrbhfl35phw"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Room1/RoomDoor"]
shape = SubResource("CircleShape2D_glygm")

[node name="Sprite2D" type="Sprite2D" parent="Rooms/Room1/RoomDoor"]
position = Vector2(-1.01328e-05, 0.999995)
scale = Vector2(0.140625, 36)
texture = SubResource("GradientTexture1D_au4vk")

[node name="SpawnPosition" type="Node2D" parent="Rooms/Room1/RoomDoor"]
top_level = true
position = Vector2(-742, -236)
script = ExtResource("6_l1ab5")
metadata/_custom_type_script = "uid://y2k6svdyl4md"

[node name="RoomDoor2" type="Area2D" parent="Rooms/Room1" node_paths=PackedStringArray("to_room_door", "spawn_position")]
position = Vector2(-229, 240)
script = ExtResource("5_5po2o")
to_room_door = NodePath("../RoomDoor")
spawn_position = NodePath("SpawnPosition")
metadata/_custom_type_script = "uid://diqrbhfl35phw"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Room1/RoomDoor2"]
shape = SubResource("CircleShape2D_glygm")

[node name="Sprite2D" type="Sprite2D" parent="Rooms/Room1/RoomDoor2"]
position = Vector2(-1.01328e-05, 0.999995)
scale = Vector2(0.140625, 36)
texture = SubResource("GradientTexture1D_au4vk")

[node name="SpawnPosition" type="Node2D" parent="Rooms/Room1/RoomDoor2"]
top_level = true
position = Vector2(-144, 247)
script = ExtResource("6_l1ab5")
metadata/_custom_type_script = "uid://y2k6svdyl4md"

[node name="WorldDoor" type="Area2D" parent="Rooms/Room1" node_paths=PackedStringArray("spawn_position")]
position = Vector2(816, 422)
script = ExtResource("7_joett")
door_id = "world_1"
goto_door_id = "world_2"
scene_path = "res://scenes/world/world_top_down_grass_2.tscn"
spawn_position = NodePath("SpawnPosition")
metadata/_custom_type_script = "uid://dawrnhrddu0kw"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Rooms/Room1/WorldDoor"]
shape = SubResource("CircleShape2D_au4vk")

[node name="Sprite2D" type="Sprite2D" parent="Rooms/Room1/WorldDoor"]
position = Vector2(-1.01328e-05, 0.999995)
scale = Vector2(0.140625, 36)
texture = SubResource("GradientTexture1D_1o4f3")

[node name="SpawnPosition" type="Node2D" parent="Rooms/Room1/WorldDoor"]
top_level = true
position = Vector2(683, 427)
script = ExtResource("6_l1ab5")
metadata/_custom_type_script = "uid://y2k6svdyl4md"

[node name="PlayerSpawner" type="Node2D" parent="Rooms/Room1" node_paths=PackedStringArray("entity_container")]
position = Vector2(358, 389)
script = ExtResource("8_k3wx8")
player_key = "player_topdown"
entity_container = NodePath("../../../EntityContainer")
metadata/_custom_type_script = "uid://ddlo01mfc118i"

[node name="EnemyPathSpawner" type="Node2D" parent="Rooms/Room1" node_paths=PackedStringArray("paths", "entity_container")]
position = Vector2(581, 429)
script = ExtResource("9_w01r4")
entity_name = "enemy_path"
paths = [NodePath("Path2D")]
entity_container = NodePath("../../../EntityContainer")
metadata/_custom_type_script = "uid://ddlo01mfc118i"

[node name="Path2D" type="Path2D" parent="Rooms/Room1/EnemyPathSpawner"]
top_level = true
position = Vector2(586, 447)
curve = SubResource("Curve2D_glygm")

[node name="PathFollow2D" type="PathFollow2D" parent="Rooms/Room1/EnemyPathSpawner/Path2D"]
position = Vector2(148, 89)
rotation = -1.5434808

[node name="TownSign" parent="Rooms/Room1" instance=ExtResource("10_qwtem")]
position = Vector2(381, 520)

[node name="Pickup" parent="Rooms/Room1" instance=ExtResource("11_ua2dx")]
position = Vector2(682, 448)
item = SubResource("Resource_am3bl")

[node name="EntityContainer" type="Node2D" parent="."]
top_level = true

[node name="RoomFiller" type="Node2D" parent="."]
script = ExtResource("14_dlh1s")
altitude_scenes = Array[PackedScene]([ExtResource("15_0mi48"), ExtResource("16_w28do")])
altitude_threshold = 0.1
metadata/_custom_type_script = "uid://cqwk88xhb2juy"
